import{j as e,q as M,r as c,R as B,W as j,a as t,b as q}from"./app-f63682cd.js";import{A as D,B as E}from"./AppLayout-b8073d9f.js";import{P as z,F as A}from"./react-filepond.esm-d2812d49.js";import{X as L}from"./xmark-413a4b52.js";import{M as P}from"./modal-b80d9331.js";import"./icons-d1e7d4e3.js";const g=()=>{const{showSearch:f,searchData:d,ziggy:o}=M().props,[m,n]=c.useState(""),[u,v]=c.useState("name"),[N,y]=B.useState([]),w={name:"",email:"",address:"",contact_number:"",username:"",password:"",qualification:"",selectedOrgs:[]},b=localStorage.getItem("rememberInstructor"),{data:l,setData:r,post:x,get:k}=j(b?JSON.parse(b):w),C=a=>{a.preventDefault(),x(route("instructor.store")),localStorage.removeItem("rememberInstructor")},I=a=>{a.preventDefault(),localStorage.setItem("rememberInstructor",JSON.stringify(l)),k(route("instructor.create",{query:m,searchBy:u}))};c.useEffect(()=>{var a,s;if(n(((a=o==null?void 0:o.query)==null?void 0:a.query)??""),f)try{(s=document.getElementById("selectOrgModal"))==null||s.showModal()}catch{}localStorage.removeItem("rememberInstructor")},[]);const O=(a,s)=>{var h,p;if(l.selectedOrgs.find(i=>i.id==s))try{(h=document.getElementById("selectOrgModal"))==null||h.close()}catch{}else{r("selectedOrgs",[...l.selectedOrgs,{id:s,name:a}]);try{(p=document.getElementById("selectOrgModal"))==null||p.close()}catch{}}},S=a=>{r("selectedOrgs",l.selectedOrgs.filter(s=>s.id!==a))};return t("div",{children:[e(q,{title:"Create Instructor"}),e(E,{list:[{title:"Home",href:"/dashboard"},{title:"Instructor",href:"/instructor"},{title:"Create New",href:null}]}),t(P,{id:"selectOrgModal",title:"Select Organization",className:"w-11/12 max-w-5xl",children:[t("div",{className:"join my-5 border-2 border-primary",children:[t("div",{className:"input-group flex-r-c",children:[e("input",{value:m,onChange:a=>n(a.target.value),className:"input input-bordered join-item",placeholder:"Search..."}),e("div",{onClick:()=>n(""),className:"btn bg-base-100 hover:bg-base-100 join-item",children:e(L,{})})]}),t("select",{className:"select select-bordered join-item",value:u,onChange:a=>v(a.target.value),children:[e("option",{disabled:!0,selected:!0,value:"all",children:"Search By"}),e("option",{value:"name",children:"Organization Name"}),e("option",{value:"id",children:"Organization ID"})]}),e("div",{className:"indicator ",children:e("div",{onClick:I,className:"btn join-item btn-primary",children:"Search"})})]}),e("div",{className:"w-full bg-base-200 my-5",children:d.length>0?e("div",{className:"overflow-y-auto",style:{maxHeight:350},children:d.map(a=>t("div",{className:"flex items-center space-x-3 py-6 px-5 hover:bg-base-300 cursor-pointer",onClick:()=>O(a.name,a.id),children:[e("div",{className:"avatar",children:e("div",{className:"mask mask-squircle w-10 h-10",children:e("img",{src:a.logo,alt:"Avatar"})})}),e("div",{className:"font-bold",children:a.name})]},a.id))}):e("div",{className:"h-full flex-c-c"})})]}),e("div",{className:"w-full mx-auto mt-8",children:t("div",{className:"bg-base-100 p-8 rounded-lg shadow-md",children:[e("h2",{className:"text-2xl font-semibold mb-6",children:"Create Instructor"}),t("div",{className:"mb-6",children:[e("label",{className:"block text-gray-700 font-semibold mb-2",htmlFor:"name",children:"Name"}),e("input",{type:"text",id:"name",name:"name",placeholder:"Hauck PLC",className:"input border-2 border-base-200 input-ghost w-full",value:l.name,onChange:a=>r("name",a.target.value)})]}),t("div",{className:"mb-6",children:[e("label",{className:"block text-gray-700 font-semibold mb-2",htmlFor:"address",children:"Address"}),e("textarea",{id:"address",name:"address",rows:2,className:"input border-2 border-base-200 input-ghost w-full",value:l.address,onChange:a=>r("address",a.target.value)})]}),t("div",{className:"mb-6",children:[e("label",{className:"block text-gray-700 font-semibold mb-2",htmlFor:"address",children:"Qaulifications"}),e("input",{type:"text",id:"qualification",name:"qualification",placeholder:"MSc. Data Science..",className:"input border-2 border-base-200 input-ghost w-full",value:l.qualification,onChange:a=>r("qualification",a.target.value)})]}),t("div",{className:"mb-6 flex",children:[t("div",{className:"mr-2",children:[e("label",{className:"block text-gray-700 font-semibold mb-2",htmlFor:"contact",children:"Contact"}),e("input",{type:"tel",id:"contact",name:"contact",placeholder:"+42",className:"input border-2 border-base-200 input-ghost w-full",value:l.contact_number,onChange:a=>r("contact_number",a.target.value)})]}),t("div",{className:"ml-2",children:[e("label",{className:"block text-gray-700 font-semibold mb-2",htmlFor:"logo",children:"Logo"}),e("input",{type:"file",id:"logo",name:"logo",accept:"image/*",className:"file-input  w-full  file-input-primary"})]})]}),t("div",{children:[e("h1",{className:"block text-gray-700 font-semibold mb-2",children:"Belongs to ( Organizations )"}),t("div",{className:"p-3 w-full border-2 rounded-lg bg-base-200 flex items-center flex-wrap",children:[l.selectedOrgs.map(a=>t("div",{className:"m-1 badge badge-primary  gap-1 rounded py-4 pl-3 pr-1",children:[e("p",{className:"font-bold text-md",children:a.name}),e("svg",{onClick:s=>S(a.id),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"inline-block w-4 h-4 stroke-current cursor-pointer",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})]},a.id)),e("div",{className:"m-2 my-1",onClick:()=>{var a;(a=document.getElementById("selectOrgModal"))==null||a.showModal()},children:e(z,{className:"w-6 h-6 cursor-pointer hover:opacity-70"})})]})]}),t("div",{className:"mb-6",children:[e("label",{className:"block text-gray-700 font-semibold mb-2",htmlFor:"email",children:"Email"}),e("input",{type:"email",id:"email",name:"email",className:"input border-2 border-base-200 input-ghost w-full",value:l.email,onChange:a=>r("email",a.target.value)})]}),t("div",{className:"mb-6",children:[e("label",{className:"block text-gray-700 font-semibold mb-2",htmlFor:"username",children:"Username"}),e("input",{type:"text",id:"username",name:"username",className:"input border-2 border-base-200 input-ghost w-full",value:l.username,onChange:a=>r("username",a.target.value)})]}),t("div",{className:"mb-6",children:[e("label",{className:"block text-gray-700 font-semibold mb-2",htmlFor:"password",children:"Password"}),e("input",{type:"password",id:"password",name:"password",className:"winput border-2 border-base-200 input-ghost w-full",value:l.password,onChange:a=>r("password",a.target.value)})]}),e("label",{className:"block text-gray-700 font-semibold mb-2",htmlFor:"logo",children:"Registration Document"}),e(A,{files:N,onupdatefiles:y,allowMultiple:!0,maxFiles:3,server:"/api/upload/organization-document",name:"organization-document",labelIdle:'Drag & Drop your files or <span class="filepond--label-action">Browse</span>'}),e("div",{className:"flex justify-end",children:e("button",{className:"btn btn-primary",onClick:C,children:"Submit"})})]})})]})},U=()=>e(D,{AdminComponent:e(g,{}),OrganizationComponent:e(g,{})});export{U as default};
