import{j as e,a as t,W as f,r as g,b as i,F as s,d as a}from"./app-4885bbf9.js";import{A as h}from"./AppLayout-e25d1d8a.js";import{N as n}from"./icons-a6ae82bc.js";import{B as p}from"./breadcrumb-88575053.js";const y=({id:l,children:d,title:r})=>e("dialog",{id:l,className:"modal",children:t("form",{method:"dialog",className:"modal-box",children:[e("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",children:"âœ•"}),e("h3",{className:"font-bold text-lg",children:r}),e("div",{children:d})]})}),k=({organization:l,isEmpty:d,activeMenu:r,title:c})=>{console.log({organization:l});const{data:o,errors:m,processing:b,delete:x}=f(),N=()=>{x("/organization/"+l.id,{onSuccess:()=>{console.log("organization deleted")},onError:u=>console.log("Found an error ",u)})};return g.useEffect(()=>{console.log({deleteOrgData:o})},[b,m]),d?t(h,{activeMenu:r,title:c,children:[e(i,{title:"Organization"}),e("div",{className:"min-h-screen flex-c-c text-3xl font-extrabold",children:"Organization not found"})]}):t(h,{activeMenu:r,title:c,children:[e(i,{title:l.name}),t(y,{id:"deleteOrgModal",title:"Delete Organization",children:[e("h1",{children:"Do you really want to delete this organization?"}),t("div",{className:"w-full flex justify-end",children:[e("div",{onClick:N,className:"btn btn-error m-2",children:"YES!"}),e("button",{className:"btn btn-ghost my-2",children:"CANCEL"})]})]}),t("div",{className:"w-full flex justify-between",children:[e(p,{list:[{title:"Home",href:"/dashboard"},{title:"Organizations",href:"/organization"},{title:l.name,href:null}]}),e(w,{id:l.id})]}),t("div",{className:"flex-c-c",children:[e("div",{className:"avatar",children:e("div",{className:"w-24 rounded-full",children:e("img",{src:l.logo?l.logo:"/laptop.jpg"})})}),e("h1",{className:"py-2 text-secondary font-extrabold",children:l.name}),t("table",{className:"table table-sm  bg-base-100 shadow-md",children:[e("thead",{children:t("tr",{className:"bg-primary",children:[e("td",{className:"font-extrabold text-lg text-base-100 ",children:"Details"}),e("td",{})]})}),t("tbody",{children:[t("tr",{className:"",children:[e("td",{children:"Name"}),e("td",{children:l.name})]}),t("tr",{children:[e("td",{children:"Username"}),e("td",{children:l.users.username})]}),t("tr",{children:[e("td",{children:"Email"}),e("td",{children:l.users.email})]}),t("tr",{children:[e("td",{children:"Address"}),e("td",{children:l.users.address})]}),t("tr",{children:[e("td",{children:"Contact"}),e("td",{children:l.users.contact_number})]})]})]})]}),l.instructors.length>0&&t(s,{children:[e("h1",{className:"py-4 text-secondary font-extrabold",children:"Instructos"}),e(v,{instructors:l.instructors})]}),l.students.length>0&&t(s,{children:[e("h1",{className:"py-4 text-secondary font-extrabold",children:"Students"}),e(O,{students:l.students})]}),l.checkpoints.length>0&&t(s,{children:[e("h1",{className:"py-4 text-secondary font-extrabold",children:"Checkpoints"}),e(C,{checkpoints:l.checkpoints})]})]})},w=({id:l})=>t("details",{className:"dropdown z-30",children:[e("summary",{className:"m-1 btn pr-28 btn-primary",children:"Actions"}),t("ul",{className:"p-2 shadow menu dropdown-content z-[1] bg-base-100 rounded-box w-52",children:[e("li",{children:e("a",{children:"Create Instructor"})}),e("li",{children:e("a",{children:"Create Student"})}),e("li",{children:e("a",{children:"Create Checkpoint"})}),e("li",{children:e(a,{href:route("organization.showEdit",{id:l}),children:"Edit Organization"})}),e("li",{onClick:d=>{document.getElementById("deleteOrgModal").showModal()},className:"text-red-600",children:e("a",{children:"Delete Organization"})})]})]}),v=({instructors:l})=>t("table",{className:"table bg-base-100 shadow-md",children:[e("thead",{children:t("tr",{className:"text-base-100 bg-primary",children:[e("td",{className:"font-extrabold text-lg ",children:"Name"}),e("td",{className:"font-extrabold text-lg ",children:"Email"}),e("td",{className:"font-extrabold text-lg ",children:"Address"}),e("td",{className:"font-extrabold text-lg "})]})}),e("tbody",{children:l.map((d,r)=>t("tr",{className:"hover",children:[e("td",{children:d.users.name}),e("td",{children:d.users.email}),e("td",{children:d.users.address}),e("td",{children:e(a,{href:route("instructor.index"),children:e(n,{className:"w-6 h-6 hover:opacity-50"})})})]},d.id))})]}),O=({students:l})=>t("table",{className:"table bg-base-100 shadow-md",children:[e("thead",{children:t("tr",{className:"text-base-100 bg-primary",children:[e("td",{className:"font-extrabold text-lg ",children:"Name"}),e("td",{className:"font-extrabold text-lg ",children:"Email"}),e("td",{className:"font-extrabold text-lg ",children:"Address"}),e("td",{className:"font-extrabold text-lg "})]})}),e("tbody",{children:l.map((d,r)=>t("tr",{className:"hover",children:[e("td",{children:d.users.name}),e("td",{children:d.users.email}),e("td",{children:d.users.address}),e("td",{children:e(a,{href:route("student.index"),children:e(n,{className:"w-6 h-6 hover:opacity-50"})})})]},d.id))})]}),C=({checkpoints:l})=>t("table",{className:"table bg-base-100 shadow-md",children:[e("thead",{children:t("tr",{className:"text-base-100 bg-primary",children:[e("td",{className:"font-extrabold text-lg ",children:"Name"}),e("td",{className:"font-extrabold text-lg ",children:"Validity"}),e("td",{className:"font-extrabold text-lg ",children:"Grades"}),e("td",{className:"font-extrabold text-lg "})]})}),e("tbody",{children:l.map((d,r)=>t("tr",{className:"hover",children:[e("td",{children:d.name}),e("td",{children:d.validity_period}),t("td",{children:[d.achieved_gradepoints,"/",d.total_gradepoints]}),e("td",{children:e(a,{href:route("checkpoint.index"),children:e(n,{className:"w-6 h-6 hover:opacity-50"})})})]},d.id))})]});export{k as default};
