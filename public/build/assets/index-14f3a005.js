import{j as e,q as u,r as g,W as f,a as r,b as N,F as n,d as A}from"./app-eece0f73.js";import{A as E,B as I}from"./AppLayout-75200e08.js";import{M as v,A as k,E as s}from"./EmptyTableBox-80e53bd7.js";import"./icons-32cd2e22.js";const j={q:"",searchBy:"name",collection:"organization"},o=()=>{const{checkpoint:t,isEmpty:l,showModal:h}=u().props,a=JSON.parse(localStorage.getItem("rememberInstructorAttach")??JSON.stringify(j));g.useState(a);const{get:p,delete:i}=f(),x=()=>{i("/instructor/"+t.id,{onSuccess:()=>{console.log("organization deleted")},onError:m=>console.log("Found an error ",m)})};if(g.useEffect(()=>{h&&document.getElementById("AttachEntityModal").showModal()},[]),l)return r("div",{children:[e(N,{title:"Instructors"}),e("div",{className:"min-h-screen flex-c-c text-3xl font-extrabold",children:"Instructor not found"})]});const y=()=>r(n,{children:[r("tr",{children:[e("td",{children:"Validity Period"}),e("td",{children:t.validity_period})]}),r("tr",{children:[e("td",{children:"Badge"}),e("td",{children:e("img",{src:"/storage/checkpoint-general/default.jpg",className:"h-20 cursor-pointer"})})]}),r("tr",{children:[e("td",{children:"Digital Certificate"}),e("img",{src:"/storage/checkpoint-general/default.jpg",className:"h-20 ml-3 my-2 cursor-pointer"})]})]}),w=()=>r(n,{children:[r("tr",{children:[e("td",{children:"Total Gradepoints"}),e("td",{children:t.total_gradepoints??100})]}),r("tr",{children:[e("td",{children:"Achieved Gradepoints"}),e("td",{children:t.achieved_gradpoints?t.achieved_gradpoints:e("span",{className:"text-gray-400",children:"Not Added"})})]})]}),C=({path:m="checkpoint-general",images:c=[]})=>(console.log({images:c}),r("div",{className:"w-96 mt-10",children:[e("h1",{className:"p-3 my-4 bg-primary text-base-100 font-extrabold text-lg",children:"Images"}),c.length>0?r(n,{children:[e("div",{className:"carousel w-96",children:c.map((b,d)=>e("div",{id:"item"+d,className:"carousel-item w-full",children:e("img",{src:`/storage/${m}/${b}`,className:"w-96"})},d))}),e("div",{className:"flex justify-center w-full py-2 gap-2 bg-primary",children:c.map((b,d)=>e("a",{href:"#item"+d,className:"btn btn-xs",children:d+1},d))})]}):e(s,{text:"Not Uploaded"})]}));return r("div",{children:[e(N,{title:t.name}),r(v,{id:"deleteCheckpointModal",title:"Delete Checkpoint",children:[e("h1",{children:"Do you really want to delete this Checkpoint?"}),r("div",{className:"w-full flex justify-end",children:[e("div",{onClick:x,className:"btn btn-error m-2",children:"YES!"}),e("button",{className:"btn btn-ghost my-2",children:"CANCEL"})]})]}),e(k,{id:t.id,routeName:"checkpoint"}),r("div",{className:"w-full flex justify-between",children:[e(I,{list:[{title:"Home",href:"/dashboard"},{title:"Checkpoint",href:"/checkpoint"},{title:t.name,href:null}]}),e(z,{id:t.id})]}),e("div",{className:"flex-c-c mt-16",children:r("table",{className:"table table-sm  bg-base-100 shadow-md",children:[e("thead",{children:r("tr",{className:"bg-primary",children:[e("td",{className:"font-extrabold text-lg text-base-100 ",children:"Details"}),e("td",{})]})}),r("tbody",{children:[r("tr",{className:"",children:[e("td",{children:"Name"}),e("td",{children:t.name})]}),r("tr",{children:[e("td",{children:"Description"}),e("td",{children:t.description})]}),r("tr",{children:[e("td",{children:"Instructor Input"}),e("td",{children:t.instructor_input?t.instructor_input:e("span",{className:"text-gray-400",children:"Not Added"})})]}),r("tr",{children:[e("td",{children:"Type"}),e("td",{children:e("p",{className:`${t.type=="Completion"?"text-blue-500":t.type=="General"?"text-green-500":"text-purple-600"} font-bold`,children:t.type})})]}),t.type=="Completion"?e(y,{}):t.type=="Grade Based"?e(w,{}):null]})]})}),e(C,{images:["default.jpg","default.jpg","default.jpg"]}),e("h1",{className:"py-4 text-black font-extrabold text-3xl mt-4 font-sans",children:"Relationships"}),e("h1",{className:"py-4 text-secondary font-extrabold",children:"Belongs To (Organization)"}),t!=null&&t.organizations?e(B,{organization:t.organizations}):e(s,{}),e("h1",{className:"py-4 text-secondary font-extrabold",children:"Associated With (Instructor)"}),t!=null&&t.instructors?e(_,{instructor:t.instructors}):e(s,{}),e("h1",{className:"py-4 text-secondary font-extrabold",children:"Assigned To (Student)"}),t!=null&&t.students?e(S,{student:t.students}):e(s,{})]})},z=({id:t})=>{const{role:l}=u().props.auth,{auth:h}=u().props,a=i=>{p(route("checkpoint.show",{id:t,collection:i,searchBy:"name",q:""}))},{get:p}=f();return h.role=="student"?e(n,{}):r("details",{className:"dropdown z-30",children:[e("summary",{className:"m-1 btn pr-28 btn-primary",children:"Actions"}),r("ul",{className:"p-2 shadow menu dropdown-content z-[1] bg-base-100 rounded-box w-52",children:[l=="admin"&&e("li",{children:e("a",{onClick:()=>a("organization"),children:"Attach Organization"})}),(l=="admin"||l=="organization")&&e("li",{children:e("a",{onClick:()=>a("instructor"),children:"Attach Instructor"})}),e("li",{children:e("a",{onClick:()=>a("student"),children:"Attach Student"})}),e("li",{children:e(A,{href:route("checkpoint.showEdit",{id:t}),children:"Edit Checkpoint"})}),e("li",{onClick:i=>{document.getElementById("deleteCheckpointModal").showModal()},children:e("a",{className:"text-red-600 hover:text-red-600",children:"Delete Checkpoint"})})]})]})},B=({organization:t})=>e(n,{children:r("table",{className:"table table-sm  bg-base-100 shadow-md",children:[e("thead",{children:r("tr",{className:"bg-primary",children:[e("td",{className:"font-extrabold text-lg text-base-100 ",children:"Details"}),e("td",{})]})}),r("tbody",{children:[r("tr",{children:[e("td",{children:"Name"}),e("td",{children:t.name})]}),r("tr",{children:[e("td",{children:"Email"}),e("td",{children:t.users.email})]}),r("tr",{children:[e("td",{children:"Contact Number"}),e("td",{children:t.users.contact_number})]}),r("tr",{children:[e("td",{children:"Address"}),e("td",{children:t.users.address})]})]})]})}),S=({student:t})=>e(n,{children:r("table",{className:"table table-sm  bg-base-100 shadow-md",children:[e("thead",{children:r("tr",{className:"bg-primary",children:[e("td",{className:"font-extrabold text-lg text-base-100 ",children:"Details"}),e("td",{})]})}),r("tbody",{children:[r("tr",{className:"",children:[e("td",{children:"Name"}),e("td",{children:t.users.name})]}),r("tr",{children:[e("td",{children:"Email"}),e("td",{children:t.users.email})]}),r("tr",{children:[e("td",{children:"Contact Number"}),e("td",{children:t.users.contact_number})]}),r("tr",{children:[e("td",{children:"Address"}),e("td",{children:t.users.address})]})]})]})}),_=({instructor:t})=>e(n,{children:r("table",{className:"table table-sm  bg-base-100 shadow-md",children:[e("thead",{children:r("tr",{className:"bg-primary",children:[e("td",{className:"font-extrabold text-lg text-base-100 ",children:"Details"}),e("td",{})]})}),r("tbody",{children:[r("tr",{children:[e("td",{children:"Name"}),e("td",{children:t.users.name})]}),r("tr",{children:[e("td",{children:"Email"}),e("td",{children:t.users.email})]}),r("tr",{children:[e("td",{children:"Contact Number"}),e("td",{children:t.users.contact_number})]}),r("tr",{children:[e("td",{children:"Address"}),e("td",{children:t.users.address})]})]})]})}),T=()=>e(E,{AdminComponent:e(o,{}),OrganizationComponent:e(o,{}),InstructorComponent:e(o,{}),StudentComponent:e(o,{})});export{T as default};
