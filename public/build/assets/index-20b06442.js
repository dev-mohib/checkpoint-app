import{j as e,q as c,W as o,a as n,b as s,d as h}from"./app-ddf6f56e.js";import{A as m,B as u}from"./AppLayout-58c4514d.js";import{M as g}from"./EmptyTableBox-e3c92d9c.js";import{A as f}from"./attachEntityModal-a46e20d3.js";import{I as p}from"./InstructorTableView-f77ddd71.js";import{S as b}from"./StudentsTableView-30fa3e99.js";import{C as z}from"./CheckpointTableView-1a37ecc0.js";import{s as N}from"./constants-471e02cc.js";import"./xmark-a8002054.js";import"./arrow_forward-76dbc3e4.js";import"./detach-be087a62.js";const x=()=>{const{isFound:i,organization:t,auth:r}=c().props;console.log({organization:t});const{delete:a}=o(),l=()=>{a("/organization/"+t.id,{onSuccess:()=>{console.log("organization deleted")},onError:d=>console.log("Found an error ",d)})};return i?n("div",{children:[n(g,{id:"deleteOrgModal",title:"Delete Organization",children:[e("h1",{children:"Do you really want to delete this organization?"}),n("div",{className:"w-full flex justify-end",children:[e("div",{onClick:l,className:"btn btn-error m-2",children:"YES!"}),e("button",{className:"btn btn-ghost my-2",children:"CANCEL"})]})]}),e(f,{id:t.id,routeName:"organization"}),n("div",{className:"w-full flex justify-between",children:[e(u,{list:[{title:"Home",href:"/dashboard"},{title:"Organizations",href:"/organization"},{title:t.name,href:null}]}),e(w,{id:t.id})]}),n("div",{className:"flex-c-c",children:[e("div",{className:"avatar",children:e("div",{className:"w-24 rounded-full",children:e("img",{src:N("organization-logo",t.logo)})})}),e("h1",{className:"py-2 text-secondary font-extrabold",children:t.name}),n("table",{className:"table table-sm  bg-base-100 shadow-md",children:[e("thead",{children:n("tr",{className:"bg-primary",children:[e("td",{className:"font-extrabold text-lg text-base-100 ",children:"Details"}),e("td",{})]})}),n("tbody",{children:[n("tr",{className:"",children:[e("td",{children:"Name"}),e("td",{children:t.name})]}),n("tr",{children:[e("td",{children:"Username"}),e("td",{children:t.users.username})]}),n("tr",{children:[e("td",{children:"Email"}),e("td",{children:t.users.email})]}),n("tr",{children:[e("td",{children:"Address"}),e("td",{children:t.users.address})]}),n("tr",{children:[e("td",{children:"Contact"}),e("td",{children:t.users.contact_number})]})]})]})]}),e(p,{instructors:t.instructors,canDetach:r.role=="admin",collection:{name:"organization",id:t.id}}),e(b,{students:t.students,canDetach:r.role=="admin",collection:{name:"organization",id:t.id}}),e(z,{checkpoints:t.checkpoints,canDetach:r.role=="admin",collection:{name:"organization",id:t.id}})]}):n("div",{children:[e(s,{title:"Organization"}),e("div",{className:"min-h-screen flex-c-c text-3xl font-extrabold",children:"Organization not found"})]})},w=({id:i})=>{const t=a=>{r(route("organization.show",{id:i,collection:a,searchBy:"name",q:""}))},{get:r}=o();return n("details",{className:"dropdown z-30",children:[e("summary",{className:"m-1 btn pr-28 btn-primary",children:"Actions"}),n("ul",{className:"p-2 shadow menu dropdown-content z-[1] bg-base-100 rounded-box w-52",children:[e("li",{children:e("a",{onClick:()=>t("instructor"),children:"Attach Instructor"})}),e("li",{children:e("a",{onClick:()=>t("student"),children:"Attach Student"})}),e("li",{children:e("a",{onClick:()=>t("checkpoint"),children:"Attach Checkpoint"})}),e("li",{children:e(h,{href:route("organization.showEdit",{id:i}),children:"Edit Organization"})}),e("li",{onClick:a=>{document.getElementById("deleteOrgModal").showModal()},children:e("a",{className:"text-red-600 hover:text-red-600",children:"Delete Organization"})})]})]})},S=()=>e(m,{AdminComponent:e(x,{})});export{S as default};
