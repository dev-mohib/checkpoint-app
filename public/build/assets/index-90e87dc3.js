import{j as e,q as c,r as l,W as h,a as n,b as s,d as f}from"./app-6ac0cb59.js";import{A as b,B as y}from"./AppLayout-27543168.js";import{M as N}from"./EmptyTableBox-0693e167.js";import{A as w}from"./attachEntityModal-4bdb7935.js";import{O as x}from"./OrganizationTableView-bc83c9cd.js";import{C as z}from"./CheckpointTableView-2ad4be17.js";import{I as S}from"./InstructorTableView-a8364bda.js";import"./xmark-8f59d019.js";import"./constants-471e02cc.js";import"./detach-4e3b0607.js";import"./arrow_forward-80f7ca6d.js";const C={q:"",searchBy:"name",collection:"organization"},d=()=>{const{student:t,searchData:i,showModal:o,isEmpty:a,auth:r}=c().props;console.log({student:t});const m=JSON.parse(localStorage.getItem("rememberStudentAttach")??JSON.stringify(C));l.useState(m);const{data:A,get:k,processing:O,delete:u}=h(),p=()=>{u("/student/"+t.id,{onSuccess:()=>{console.log("student deleted")},onError:g=>console.log("Found an error ",g)})};return l.useEffect(()=>{o&&document.getElementById("AttachEntityModal").showModal()},[]),a?n("div",{children:[e(s,{title:"Students"}),e("div",{className:"min-h-screen flex-c-c text-3xl font-extrabold",children:"Student not found"})]}):n("div",{children:[e(s,{title:t.users.name}),n(N,{id:"deleteStudentModal",title:"Delete Organization",children:[e("h1",{children:"Do you really want to delete this Students?"}),n("div",{className:"w-full flex justify-end",children:[e("div",{onClick:p,className:"btn btn-error m-2",children:"YES!"}),e("button",{className:"btn btn-ghost my-2",children:"CANCEL"})]})]}),e(w,{id:t.id,routeName:"student"}),n("div",{className:"w-full flex justify-between",children:[e(y,{list:[{title:"Home",href:"/dashboard"},{title:"Student",href:"/student"},{title:t.users.name,href:null}]}),e(E,{id:t.id})]}),e("div",{className:"flex-c-c mt-16",children:n("table",{className:"table table-sm  bg-base-100 shadow-md",children:[e("thead",{children:n("tr",{className:"bg-primary",children:[e("td",{className:"font-extrabold text-lg text-base-100 ",children:"Details"}),e("td",{})]})}),n("tbody",{children:[n("tr",{className:"",children:[e("td",{children:"Name"}),e("td",{children:t.users.name})]}),n("tr",{children:[e("td",{children:"Username"}),e("td",{children:t.users.username})]}),n("tr",{children:[e("td",{children:"Email"}),e("td",{children:t.users.email})]}),n("tr",{children:[e("td",{children:"Address"}),e("td",{children:t.users.address})]}),n("tr",{children:[e("td",{children:"Contact"}),e("td",{children:t.users.contact_number})]}),n("tr",{children:[e("td",{children:"Gender"}),e("td",{children:t.users.gender})]})]})]})}),e(x,{organizations:t.organizations,canDetach:r.role=="admin"||r.role=="organization"||r.role=="instructor",collection:{name:"student",id:t.id}}),e(z,{checkpoints:t.checkpoints,canDetach:r.role=="admin"||r.role=="organization"||r.role=="instructor",collection:{name:"student",id:t.id}}),e(S,{instructors:t.instructors,canDetach:r.role=="admin"||r.role=="organization"||r.role=="instructor",collection:{name:"student",id:t.id}})]})},E=({id:t})=>{const{role:i}=c().props.auth,o=r=>{a(route("student.show",{id:t,collection:r,searchBy:"name",q:""}))},{get:a}=h();return n("details",{className:"dropdown z-30",children:[e("summary",{className:"m-1 btn pr-28 btn-primary",children:"Actions"}),n("ul",{className:"p-2 shadow menu dropdown-content z-[1] bg-base-100 rounded-box w-52",children:[i=="admin"&&e("li",{children:e("a",{onClick:()=>o("organization"),children:"Attach Organization"})}),(i=="admin"||i=="organization")&&e("li",{children:e("a",{onClick:()=>o("instructor"),children:"Attach Instructor"})}),(i=="admin"||i=="organization"||i=="instructor")&&e("li",{children:e("a",{onClick:()=>o("checkpoint"),children:"Attach Checkpoint"})}),e("li",{children:e(f,{href:route("student.showEdit",{id:t}),children:"Edit Student"})}),e("li",{onClick:r=>{document.getElementById("deleteStudentModal").showModal()},children:e("a",{className:"text-red-600 hover:text-red-600",children:"Delete Instructor"})})]})]})},L=()=>e(b,{AdminComponent:e(d,{}),OrganizationComponent:e(d,{}),InstructorComponent:e(d,{})});export{L as default};
