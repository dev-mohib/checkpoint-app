import{r as c,W as z,a as t,j as e,b as f,F as n,d as o}from"./app-39d91d90.js";import{A as x}from"./AppLayout-ffa5fd90.js";import{N as b}from"./icons-94bc5c1b.js";import{B as O}from"./breadcrumb-4e85d0d0.js";import{M as p}from"./modal-8c6739c9.js";import{X as B}from"./xmark-4595bd87.js";const q={q:"",searchBy:"name",collection:"organization"},G=({instructor:l,isEmpty:a,activeMenu:d,title:u,auth:N,searchData:h=[],showModal:y})=>{console.log({searchData:h});const v=JSON.parse(localStorage.getItem("rememberInstructorAttach")??JSON.stringify(q)),[s,m]=c.useState(v),[w,g]=c.useState(""),[S,_]=c.useState("Organization"),{data:D,get:A,processing:F,delete:I}=z(),C=()=>{I("/instructor/"+l.id,{onSuccess:()=>{console.log("organization deleted")},onError:r=>console.log("Found an error ",r)})};c.useEffect(()=>{y&&document.getElementById("AttachEntityModal").showModal()},[]);const i=(r="",E=!0)=>{E&&localStorage.setItem("rememberInstructorAttach",JSON.stringify(s)),A(route("instructor.show",{id:l.id,searchBy:s.searchBy,collection:r||s.collection+"s",q:s.q}))},k=()=>{};return a?t(x,{activeMenu:d,title:u,auth:N,children:[e(f,{title:"Instructors"}),e("div",{className:"min-h-screen flex-c-c text-3xl font-extrabold",children:"Instructor not found"})]}):t(x,{activeMenu:d,title:u,auth:N,children:[e(f,{title:l.users.name}),t(p,{id:"deleteInstrucrorModal",title:"Delete Organization",children:[e("h1",{children:"Do you really want to delete this Instructors?"}),t("div",{className:"w-full flex justify-end",children:[e("div",{onClick:C,className:"btn btn-error m-2",children:"YES!"}),e("button",{className:"btn btn-ghost my-2",children:"CANCEL"})]})]}),e(p,{id:"AttachEntityModal",title:`Select ${s.collection}`,className:"w-11/12 max-w-5xl",children:w?t("div",{className:"flex flex-col w-full py-10 px-10",children:[t("h1",{children:["Do you want to Add this ",S,"?"]}),t("div",{className:"w-full flex justify-end",children:[e("div",{onClick:k,className:"btn btn-success m-2 cursor-pointer",children:"YES!"}),e("div",{onClick:()=>g(""),className:"btn btn-ghost my-2 cursor-pointer",children:"CANCEL"})]})]}):t(n,{children:[t("div",{className:"join my-5 border-2 border-primary",children:[t("div",{className:"input-group flex-r-c",children:[e("input",{value:s.q,onChange:r=>m({...s,q:r.target.value}),className:"input input-bordered join-item",placeholder:"Search..."}),e("div",{onClick:()=>m({...s,q:""}),className:"btn bg-base-100 hover:bg-base-100 join-item",children:e(B,{})})]}),t("select",{className:"select select-bordered join-item capitalize",value:s.searchBy,onChange:r=>m({...s,searchBy:r.target.value}),children:[e("option",{disabled:!0,selected:!0,value:"all",children:"Search By"}),t("option",{value:"name",className:"capitalize",children:[s.collection," name"]}),t("option",{value:"id",className:"capitalize",children:[" ",s.collection," ID"]})]}),e("div",{className:"indicator ",children:e("div",{onClick:()=>i(),className:"btn join-item btn-primary",children:"Search"})})]}),e("div",{className:"w-full bg-base-200 my-5",children:h.length>0?e("div",{className:"overflow-y-auto",style:{maxHeight:350},children:h.map(r=>t("div",{className:"flex items-center space-x-3 py-6 px-5 hover:bg-base-300 cursor-pointer",onClick:()=>g(r.id),children:[e("div",{className:"avatar",children:e("div",{className:"mask mask-squircle w-10 h-10",children:e("img",{src:r.logo,alt:"Avatar"})})}),e("div",{className:"font-bold",children:r.name})]},r.id))}):e("div",{className:"h-full flex-c-c"})})]})}),t("div",{className:"w-full flex justify-between",children:[e(O,{list:[{title:"Home",href:"/dashboard"},{title:"Instructor",href:"/instructor"},{title:l.users.name,href:null}]}),t("details",{className:"dropdown z-30",children:[e("summary",{className:"m-1 btn pr-28 btn-primary",children:"Actions"}),t("ul",{className:"p-2 shadow menu dropdown-content z-[1] bg-base-100 rounded-box w-52",children:[e("li",{children:e("a",{onClick:()=>{localStorage.setItem("rememberInstructorAttach",JSON.stringify({collection:"organization",q:"",searchBy:"name"})),i("organizations",!1)},children:"Add Organization"})}),e("li",{children:e("a",{onClick:()=>{localStorage.setItem("rememberInstructorAttach",JSON.stringify({collection:"student",q:"",searchBy:"name"})),i("students",!1)},children:"Add Student"})}),e("li",{children:e("a",{onClick:()=>{localStorage.setItem("rememberInstructorAttach",JSON.stringify({collection:"checkpoint",q:"",searchBy:"name"})),i("checkpoints",!1)},children:"Add Checkpoint"})}),e("li",{children:e(o,{href:route("instructor.showEdit",{id:l.id}),children:"Edit Instructor"})}),e("li",{onClick:r=>{document.getElementById("deleteInstrucrorModal").showModal()},children:e("a",{className:"text-red-600 hover:text-red-600",children:"Delete Instructor"})})]})]})]}),e("div",{className:"flex-c-c mt-16",children:t("table",{className:"table table-sm  bg-base-100 shadow-md",children:[e("thead",{children:t("tr",{className:"bg-primary",children:[e("td",{className:"font-extrabold text-lg text-base-100 ",children:"Details"}),e("td",{})]})}),t("tbody",{children:[t("tr",{className:"",children:[e("td",{children:"Name"}),e("td",{children:l.users.name})]}),t("tr",{children:[e("td",{children:"Username"}),e("td",{children:l.users.username})]}),t("tr",{children:[e("td",{children:"Email"}),e("td",{children:l.users.email})]}),t("tr",{children:[e("td",{children:"Address"}),e("td",{children:l.users.address})]}),t("tr",{children:[e("td",{children:"Contact"}),e("td",{children:l.users.contact_number})]}),t("tr",{children:[e("td",{children:"Qualification"}),e("td",{children:l.qualification})]})]})]})}),l.organizations.length>0?t(n,{children:[e("h1",{className:"py-4 text-secondary font-extrabold",children:"Belongs to (Organization's)"}),e(j,{organizations:l.organizations})]}):e(n,{}),l.students.length>0&&t(n,{children:[e("h1",{className:"py-4 text-secondary font-extrabold",children:"Students (Assigned)"}),e(M,{students:l.students})]}),l.checkpoints.length>0&&t(n,{children:[e("h1",{className:"py-4 text-secondary font-extrabold",children:"Checkpoints (Assigned)"}),e(J,{checkpoints:l.checkpoints})]})]})},j=({organizations:l})=>t("table",{className:"table bg-base-100 shadow-md",children:[e("thead",{children:t("tr",{className:"text-base-100 bg-primary",children:[e("td",{className:"font-extrabold text-lg ",children:"Name"}),e("td",{className:"font-extrabold text-lg ",children:"Email"}),e("td",{className:"font-extrabold text-lg ",children:"Address"}),e("td",{className:"font-extrabold text-lg "})]})}),e("tbody",{children:l.map((a,d)=>t("tr",{className:"hover",children:[e("td",{children:t("div",{className:"flex items-center space-x-3 ml-3 my-3",children:[e("div",{className:"avatar",children:e("div",{className:"mask mask-squircle w-10 h-10",children:e("img",{src:a.logo,alt:"Avatar"})})}),e("div",{children:e("div",{className:"font-bold",children:a.name})})]})}),e("td",{children:a.users.email}),e("td",{children:a.users.address}),e("td",{children:e(o,{href:route("organization.show",{id:a.id}),children:e(b,{className:"w-6 h-6 hover:opacity-50"})})})]},a.id))})]}),M=({students:l})=>t("table",{className:"table bg-base-100 shadow-md",children:[e("thead",{children:t("tr",{className:"text-base-100 bg-primary",children:[e("td",{className:"font-extrabold text-lg ",children:"Name"}),e("td",{className:"font-extrabold text-lg ",children:"Email"}),e("td",{className:"font-extrabold text-lg ",children:"Address"}),e("td",{className:"font-extrabold text-lg "})]})}),e("tbody",{children:l.map((a,d)=>t("tr",{className:"hover",children:[e("td",{children:a.users.name}),e("td",{children:a.users.email}),e("td",{children:a.users.address}),e("td",{children:e(o,{href:route("student.index"),children:e(b,{className:"w-6 h-6 hover:opacity-50"})})})]},a.id))})]}),J=({checkpoints:l})=>t("table",{className:"table bg-base-100 shadow-md",children:[e("thead",{children:t("tr",{className:"text-base-100 bg-primary",children:[e("td",{className:"font-extrabold text-lg ",children:"Name"}),e("td",{className:"font-extrabold text-lg ",children:"Validity"}),e("td",{className:"font-extrabold text-lg ",children:"Grades"}),e("td",{className:"font-extrabold text-lg "})]})}),e("tbody",{children:l.map((a,d)=>t("tr",{className:"hover",children:[e("td",{children:a.name}),e("td",{children:a.validity_period}),t("td",{children:[a.achieved_gradepoints,"/",a.total_gradepoints]}),e("td",{children:e(o,{href:route("checkpoint.index"),children:e(b,{className:"w-6 h-6 hover:opacity-50"})})})]},a.id))})]});export{G as default};
