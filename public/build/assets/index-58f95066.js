import{j as e,q as c,W as l,a as n,b as s,d as h}from"./app-eece0f73.js";import{A as m,B as u}from"./AppLayout-75200e08.js";import{M as g,A as b}from"./EmptyTableBox-80e53bd7.js";import{I as f}from"./InstructorTableView-d6c18477.js";import{S as p}from"./StudentsTableView-177c6227.js";import{C as z}from"./CheckpointTableView-1fe31e50.js";import"./icons-32cd2e22.js";const N=()=>{const{isFound:i,organization:t,auth:a}=c().props;console.log({organization:t});const{delete:r}=l(),o=()=>{r("/organization/"+t.id,{onSuccess:()=>{console.log("organization deleted")},onError:d=>console.log("Found an error ",d)})};return i?n("div",{children:[n(g,{id:"deleteOrgModal",title:"Delete Organization",children:[e("h1",{children:"Do you really want to delete this organization?"}),n("div",{className:"w-full flex justify-end",children:[e("div",{onClick:o,className:"btn btn-error m-2",children:"YES!"}),e("button",{className:"btn btn-ghost my-2",children:"CANCEL"})]})]}),e(b,{id:t.id,routeName:"organization"}),n("div",{className:"w-full flex justify-between",children:[e(u,{list:[{title:"Home",href:"/dashboard"},{title:"Organizations",href:"/organization"},{title:t.name,href:null}]}),e(x,{id:t.id})]}),n("div",{className:"flex-c-c",children:[e("div",{className:"avatar",children:e("div",{className:"w-24 rounded-full",children:e("img",{src:`/storage/organization-logo/${t.logo}`})})}),e("h1",{className:"py-2 text-secondary font-extrabold",children:t.name}),n("table",{className:"table table-sm  bg-base-100 shadow-md",children:[e("thead",{children:n("tr",{className:"bg-primary",children:[e("td",{className:"font-extrabold text-lg text-base-100 ",children:"Details"}),e("td",{})]})}),n("tbody",{children:[n("tr",{className:"",children:[e("td",{children:"Name"}),e("td",{children:t.name})]}),n("tr",{children:[e("td",{children:"Username"}),e("td",{children:t.users.username})]}),n("tr",{children:[e("td",{children:"Email"}),e("td",{children:t.users.email})]}),n("tr",{children:[e("td",{children:"Address"}),e("td",{children:t.users.address})]}),n("tr",{children:[e("td",{children:"Contact"}),e("td",{children:t.users.contact_number})]})]})]})]}),e(f,{instructors:t.instructors,canDetach:a.role=="admin",collection:{name:"organization",id:t.id}}),e(p,{students:t.students,canDetach:a.role=="admin",collection:{name:"organization",id:t.id}}),e(z,{checkpoints:t.checkpoints,canDetach:a.role=="admin",collection:{name:"organization",id:t.id}})]}):n("div",{children:[e(s,{title:"Organization"}),e("div",{className:"min-h-screen flex-c-c text-3xl font-extrabold",children:"Organization not found"})]})},x=({id:i})=>{const t=r=>{a(route("organization.show",{id:i,collection:r,searchBy:"name",q:""}))},{get:a}=l();return n("details",{className:"dropdown z-30",children:[e("summary",{className:"m-1 btn pr-28 btn-primary",children:"Actions"}),n("ul",{className:"p-2 shadow menu dropdown-content z-[1] bg-base-100 rounded-box w-52",children:[e("li",{children:e("a",{onClick:()=>t("instructor"),children:"Attach Instructor"})}),e("li",{children:e("a",{onClick:()=>t("student"),children:"Attach Student"})}),e("li",{children:e("a",{onClick:()=>t("checkpoint"),children:"Attach Checkpoint"})}),e("li",{children:e(h,{href:route("organization.showEdit",{id:i}),children:"Edit Organization"})}),e("li",{onClick:r=>{document.getElementById("deleteOrgModal").showModal()},children:e("a",{className:"text-red-600 hover:text-red-600",children:"Delete Organization"})})]})]})},E=()=>e(m,{AdminComponent:e(N,{})});export{E as default};
