import{W as g,r as p,a as t,j as e,b as h,F as s,d as a}from"./app-fffb7e5e.js";import{A as o}from"./AppLayout-675d5b01.js";import{N as n}from"./icons-e45bfe1f.js";import{B as y}from"./breadcrumb-5f973b85.js";import{M as w}from"./modal-b3af45da.js";const S=({organization:d,isEmpty:l,activeMenu:r,title:c,auth:i})=>{console.log({organization:d});const{data:m,errors:b,processing:x,delete:N}=g(),u=()=>{N("/organization/"+d.id,{onSuccess:()=>{console.log("organization deleted")},onError:f=>console.log("Found an error ",f)})};return p.useEffect(()=>{console.log({deleteOrgData:m})},[x,b]),l?t(o,{activeMenu:r,title:c,auth:i,children:[e(h,{title:"Organization"}),e("div",{className:"min-h-screen flex-c-c text-3xl font-extrabold",children:"Organization not found"})]}):t(o,{activeMenu:r,title:c,auth:i,children:[e(h,{title:d.name}),t(w,{id:"deleteOrgModal",title:"Delete Organization",children:[e("h1",{children:"Do you really want to delete this organization?"}),t("div",{className:"w-full flex justify-end",children:[e("div",{onClick:u,className:"btn btn-error m-2",children:"YES!"}),e("button",{className:"btn btn-ghost my-2",children:"CANCEL"})]})]}),t("div",{className:"w-full flex justify-between",children:[e(y,{list:[{title:"Home",href:"/dashboard"},{title:"Organizations",href:"/organization"},{title:d.name,href:null}]}),e(v,{id:d.id})]}),t("div",{className:"flex-c-c",children:[e("div",{className:"avatar",children:e("div",{className:"w-24 rounded-full",children:e("img",{src:d.logo?d.logo:"/laptop.jpg"})})}),e("h1",{className:"py-2 text-secondary font-extrabold",children:d.name}),t("table",{className:"table table-sm  bg-base-100 shadow-md",children:[e("thead",{children:t("tr",{className:"bg-primary",children:[e("td",{className:"font-extrabold text-lg text-base-100 ",children:"Details"}),e("td",{})]})}),t("tbody",{children:[t("tr",{className:"",children:[e("td",{children:"Name"}),e("td",{children:d.name})]}),t("tr",{children:[e("td",{children:"Username"}),e("td",{children:d.users.username})]}),t("tr",{children:[e("td",{children:"Email"}),e("td",{children:d.users.email})]}),t("tr",{children:[e("td",{children:"Address"}),e("td",{children:d.users.address})]}),t("tr",{children:[e("td",{children:"Contact"}),e("td",{children:d.users.contact_number})]})]})]})]}),d.instructors.length>0&&t(s,{children:[e("h1",{className:"py-4 text-secondary font-extrabold",children:"Instructos"}),e(O,{instructors:d.instructors})]}),d.students.length>0&&t(s,{children:[e("h1",{className:"py-4 text-secondary font-extrabold",children:"Students"}),e(C,{students:d.students})]}),d.checkpoints.length>0&&t(s,{children:[e("h1",{className:"py-4 text-secondary font-extrabold",children:"Checkpoints"}),e(E,{checkpoints:d.checkpoints})]})]})},v=({id:d})=>t("details",{className:"dropdown z-30",children:[e("summary",{className:"m-1 btn pr-28 btn-primary",children:"Actions"}),t("ul",{className:"p-2 shadow menu dropdown-content z-[1] bg-base-100 rounded-box w-52",children:[e("li",{children:e("a",{children:"Create Instructor"})}),e("li",{children:e("a",{children:"Create Student"})}),e("li",{children:e("a",{children:"Create Checkpoint"})}),e("li",{children:e(a,{href:route("organization.showEdit",{id:d}),children:"Edit Organization"})}),e("li",{onClick:l=>{document.getElementById("deleteOrgModal").showModal()},className:"text-red-600",children:e("a",{children:"Delete Organization"})})]})]}),O=({instructors:d})=>t("table",{className:"table bg-base-100 shadow-md",children:[e("thead",{children:t("tr",{className:"text-base-100 bg-primary",children:[e("td",{className:"font-extrabold text-lg ",children:"Name"}),e("td",{className:"font-extrabold text-lg ",children:"Email"}),e("td",{className:"font-extrabold text-lg ",children:"Address"}),e("td",{className:"font-extrabold text-lg "})]})}),e("tbody",{children:d.map((l,r)=>t("tr",{className:"hover",children:[e("td",{children:l.users.name}),e("td",{children:l.users.email}),e("td",{children:l.users.address}),e("td",{children:e(a,{href:route("instructor.index"),children:e(n,{className:"w-6 h-6 hover:opacity-50"})})})]},l.id))})]}),C=({students:d})=>t("table",{className:"table bg-base-100 shadow-md",children:[e("thead",{children:t("tr",{className:"text-base-100 bg-primary",children:[e("td",{className:"font-extrabold text-lg ",children:"Name"}),e("td",{className:"font-extrabold text-lg ",children:"Email"}),e("td",{className:"font-extrabold text-lg ",children:"Address"}),e("td",{className:"font-extrabold text-lg "})]})}),e("tbody",{children:d.map((l,r)=>t("tr",{className:"hover",children:[e("td",{children:l.users.name}),e("td",{children:l.users.email}),e("td",{children:l.users.address}),e("td",{children:e(a,{href:route("student.index"),children:e(n,{className:"w-6 h-6 hover:opacity-50"})})})]},l.id))})]}),E=({checkpoints:d})=>t("table",{className:"table bg-base-100 shadow-md",children:[e("thead",{children:t("tr",{className:"text-base-100 bg-primary",children:[e("td",{className:"font-extrabold text-lg ",children:"Name"}),e("td",{className:"font-extrabold text-lg ",children:"Validity"}),e("td",{className:"font-extrabold text-lg ",children:"Grades"}),e("td",{className:"font-extrabold text-lg "})]})}),e("tbody",{children:d.map((l,r)=>t("tr",{className:"hover",children:[e("td",{children:l.name}),e("td",{children:l.validity_period}),t("td",{children:[l.achieved_gradepoints,"/",l.total_gradepoints]}),e("td",{children:e(a,{href:route("checkpoint.index"),children:e(n,{className:"w-6 h-6 hover:opacity-50"})})})]},l.id))})]});export{S as default};
