import{q as v,R as y,W as f,r as m,j as e,a as l,F as b,d as N}from"./app-6ac0cb59.js";import{M as x}from"./EmptyTableBox-0693e167.js";import{X as q}from"./xmark-8f59d019.js";import{s as E}from"./constants-471e02cc.js";const C=({id:n,routeName:s="organization"})=>{const{searchData:i=[],ziggy:t}=v().props,[r,d]=y.useState("");console.log({searchData:i});const{put:u}=f(),[a,o]=m.useState({q:(t==null?void 0:t.query.q)??"",searchBy:(t==null?void 0:t.query.searchBy)??"name",collection:(t==null?void 0:t.query.collection)??"instructor"}),p=()=>{document.getElementById(`AttachEntityModal-${s}`).close(),u(route(s+".attachEntity",{id:n,entityId:r,entityType:(t==null?void 0:t.query.collection)??""}))};return m.useEffect(()=>{i.length>0&&document.getElementById(`AttachEntityModal-${s}`).showModal()},[]),e(x,{id:`AttachEntityModal-${s}`,title:`Select ${a.collection}`,className:"w-11/12 max-w-5xl",children:r?l("div",{className:"flex flex-col w-full py-10 px-10",children:[l("h1",{children:["Do you want to Attach this ",a.collection,"?"]}),l("div",{className:"w-full flex justify-end",children:[e("div",{onClick:p,className:"btn btn-success m-2 cursor-pointer",children:"YES!"}),e("div",{onClick:()=>d(""),className:"btn btn-ghost my-2 cursor-pointer",children:"CANCEL"})]})]}):l(b,{children:[l("div",{className:"join my-5 border-2 border-primary",children:[l("div",{className:"input-group flex-r-c",children:[e("input",{value:a.q,onChange:c=>o({...a,q:c.target.value}),className:"input input-bordered join-item",placeholder:"Search..."}),e("div",{onClick:()=>o({...a,q:""}),className:"btn bg-base-100 hover:bg-base-100 join-item",children:e(q,{})})]}),l("select",{className:"select select-bordered join-item capitalize",value:a.searchBy,onChange:c=>o({...a,searchBy:c.target.value}),children:[e("option",{disabled:!0,selected:!0,value:"all",children:"Search By"}),l("option",{value:"name",className:"capitalize",children:[a.collection," name"]}),l("option",{value:"id",className:"capitalize",children:[" ",a.collection," ID"]})]}),e("div",{className:"indicator ",children:e(N,{href:route(s+".show",{id:n,searchBy:a.searchBy,collection:a.collection,q:a.q}),className:"btn join-item btn-primary",children:"Search"})})]}),e("div",{className:"w-full bg-base-200 my-5",children:i.length>0?e("div",{className:"overflow-y-auto",style:{maxHeight:350},children:i.map(c=>{var h;return l("div",{className:"flex items-center space-x-3 py-6 px-5 hover:bg-base-300 cursor-pointer",onClick:()=>d(c.id),children:[((h=t==null?void 0:t.query)==null?void 0:h.collection)=="organization"&&e("div",{className:"avatar",children:e("div",{className:"mask mask-squircle w-10 h-10",children:e("img",{src:E("organization-logo",c.logo),alt:"Avatar"})})}),e("div",{className:"font-bold",children:c.name})]},c.id)})}):e("div",{className:"h-full flex-c-c"})})]})})};export{C as A};
